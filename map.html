<script>
  // Mapbox token
  mapboxgl.accessToken = 'pk.eyJ1IjoiamltbXlyb2NoYS1pbm5lc2Fzc29jIiwiYSI6ImNtNmw4OG5ibjAwYzIycG9ncmRoaTNwdWcifQ._bVwo6TxNtDdZy92K8xx_g';

  const map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v12',
    center: [-71.137, 42.452], // Winchester, MA
    zoom: 14
  });

// Add navigation controls
  map.addControl(new mapboxgl.NavigationControl());

  // Store pins in memory (session only)
  const pins = [];

  // Click to add a pin
  map.on('click', (e) => {
    const lngLat = e.lngLat;

    // Save pin
    pins.push({
      lng: lngLat.lng,
      lat: lngLat.lat
    });

    // Create marker
    const marker = new mapboxgl.Marker({ color: 'red' })
      .setLngLat(lngLat)
      .setPopup(
        new mapboxgl.Popup({ offset: 25 }).setHTML(`
          <strong>Pin added</strong><br>
          Latitude: ${lngLat.lat.toFixed(5)}<br>
          Longitude: ${lngLat.lng.toFixed(5)}
        `)
      )
      .addTo(map);

    marker.togglePopup();

    console.log('Pins:', pins);
  });

  map.on('load', () => {
    console.log('Map loaded â€” click to add pins');
  });
</script>
